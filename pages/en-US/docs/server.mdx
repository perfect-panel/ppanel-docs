# Deployment Guide

## Server Environment Requirements

| Module          | Requirements                |
| --------------- | --------------------------- |
| Server Config   | Minimum: 1U 2G  Recommended: 2U 4G |
| MySQL           | Version 5.7 or above (MySQL 8 recommended) |
| Redis           | Version 6 or above          |
| NGINX / Apache  | Any version                 |

## Modify Configuration File

Navigate to the configuration file directory and edit the configuration:

```shell
cd ppanel/app
vim ppanel.yaml
```

Configuration options:

```yaml
Host: 0.0.0.0 # Listening IP
Port: 8080 # Running port
Debug: true # Enable debug mode or not

Logger:
  File: ./ppanel.log # Log file path
  Level: debug # Log level: info, debug, error

JwtAuth:
  AccessSecret: 333ab3d5-429f-4a51-b001-ef484bf11db7 # Token secret (must be changed)
  AccessExpire: 604800 # Token expiration time (seconds)

MySQL:
  Path: 127.0.0.1 # Database address
  Port: 3306
  Dbname: vpnboard # Database name
  Username: root # Database username
  Password: Password # Database password (must be changed)
  MaxIdleConns: 10
  MaxOpenConns: 10
  LogMode: "dev"
  LogZap: false
  Config: charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai

Redis:
  Host: 127.0.0.1:6379
  Type: server
  Pass: # Redis password (if any)
```

## Deploy Using Docker

## Install Docker

To install Docker, run the following command:

```sh
curl -fsSL https://get.docker.com | bash -s docker
```

The application includes a default administrator account for initial setup:

- **Username**: `admin@ppanel.dev`
- **Password**: `admin-password`

> **Note**: Change the default password after the first login to ensure security.

### Run Docker Container

1. **Using the latest version**:

   ```sh
   docker run -d -p 8080:8080 \
     --name ppanel-server \
     -v $(pwd)/ppanel.yaml:/app/etc/ppanel.yaml \
     ppanel/ppanel-server:latest
   ```

2. **Using the Beta version**:

   ```sh
   docker run -d -p 8080:8080 \
     --name ppanel-server-beta \
     -v $(pwd)/ppanel.yaml:/app/etc/ppanel.yaml \
     ppanel/ppanel-server:beta
   ```

### Deploy Using Docker Compose

3. **Using Docker Compose (latest version)**:
   Create a `docker compose.yml` file and configure it as follows:

   ```yaml
   version: '3'

   services:
     ppanel-server:
       image: ppanel/ppanel-server:latest
       container_name: ppanel-server
       ports:
         - '8080:8080'
       volumes:
         - ./ppanel.yaml:/app/etc/ppanel.yaml
       restart: always
   ```

   Start the service:

   ```sh
   docker compose up -d
   ```

4. **Using Docker Compose (Beta version)**:
   Create a `docker compose-beta.yml` file and configure it as follows:

   ```yaml
   version: '3'

   services:
     ppanel-server-beta:
       image: ppanel/ppanel-server:beta
       container_name: ppanel-server-beta
       ports:
         - '8081:8080'
       volumes:
         - ./ppanel.yaml:/app/etc/ppanel.yaml
       restart: always
   ```

   Start the Beta service:

   ```sh
   docker compose -f docker compose-beta.yml up -d
   ```