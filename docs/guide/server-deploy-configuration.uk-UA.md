```markdown
---
title: Опис конфігурації
order: 0
group: 
  title: Розгортання сервера
  order: 2
toc: content
---

## Вимоги до середовища виконання

| Компонент       | Вимоги                                  |
| -------------- | ------------------------------------- |
| Конфігурація сервера | Мінімум: 1 ядро CPU, 2 ГБ пам'яті; Рекомендується: 2 ядра CPU, 4 ГБ пам'яті |
| MySQL          | 5.7 і вище (рекомендується MySQL 8)                 |
| Redis          | 6 і вище                               |
| NGINX/Apache   | Будь-яка версія                        |

### Опис файлу конфігурації

#### 1. Шлях до файлу конфігурації

За замовчуванням шлях до файлу конфігурації: `./etc/ppanel.yaml`, його можна вказати через параметр запуску `--config`.

#### 2. Формат файлу конфігурації

- Файл конфігурації у форматі yaml, підтримує коментарі, називається xxx.yaml.

```yaml
# Приклад файлу конфігурації
Host:               # Адреса прослуховування сервісу, за замовчуванням: 0.0.0.0
Port:               # Порт прослуховування сервісу, за замовчуванням: 8080
Debug:              # Чи увімкнено режим налагодження, якщо увімкнено, не можна використовувати функцію журналу, за замовчуванням: false
JwtAuth:            # Налаштування JWT аутентифікації
  AccessSecret:     # Ключ доступу токена, за замовчуванням: випадковий
  AccessExpire:     # Час дії токена доступу, в секундах, за замовчуванням: 604800
Logger:             # Налаштування журналу
  FilePath:         # Шлях до файлу журналу, за замовчуванням: ./ppanel.log
  MaxSize:          # Максимальний розмір файлу журналу, в МБ, за замовчуванням: 50
  MaxBackup:        # Максимальна кількість резервних копій файлу журналу, за замовчуванням: 3
  MaxAge:           # Максимальний час зберігання файлу журналу, в днях, за замовчуванням: 30
  Compress:         # Чи стиснути файл журналу, за замовчуванням: true
  Level:            # Рівень журналу, за замовчуванням: info, доступні: debug, info, warn, error, panic, fatal
MySQL:
  Addr:             # Адреса MySQL, обов'язково
  Username:         # Ім'я користувача MySQL, обов'язково
  Password:         # Пароль MySQL, обов'язково
  Dbname:           # Назва бази даних MySQL, обов'язково
  Config:           # Значення за замовчуванням для MySQL: charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  MaxIdleConns:     # Максимальна кількість бездіяльних з'єднань, за замовчуванням: 10
  MaxOpenConns:     # Максимальна кількість відкритих з'єднань, за замовчуванням: 100
  LogMode:          # Рівень журналу, за замовчуванням: info, доступні: debug, error, warn, info
  LogZap:           # Чи використовувати запис SQL журналу zap, за замовчуванням: true
  SlowThreshold:    # Поріг повільного запиту, в мілісекундах, за замовчуванням: 1000
Redis:
  Host:             # Адреса Redis, за замовчуванням: localhost:6379
  Pass:             # Пароль Redis, за замовчуванням: ""
  DB:               # База даних Redis, за замовчуванням: 0

Administer:
  Email:            # Електронна пошта для входу в адмінку, за замовчуванням: admin@ppanel.dev
  Password:         # Пароль для входу в адмінку, за замовчуванням: password

```

#### 3. Опис файлу конфігурації

- `Host`: Адреса прослуховування сервісу, за замовчуванням: **0.0.0.0**
- `Port`: Порт прослуховування сервісу, за замовчуванням: **8080**
- `Debug`: Чи увімкнено режим налагодження, якщо увімкнено, не можна використовувати функцію журналу, за замовчуванням: **false**
- `JwtAuth`: Налаштування JWT аутентифікації
  - `AccessSecret`: Ключ доступу токена, за замовчуванням: **випадковий**
  - `AccessExpire`: Час дії токена доступу, в секундах, за замовчуванням: **604800**
- `Logger`: Налаштування журналу
- `FilePath`: Шлях до файлу журналу, за замовчуванням: **./ppanel.log**
- `MaxSize`: Максимальний розмір файлу журналу, в МБ, за замовчуванням: **50**
- `MaxBackup`: Максимальна кількість резервних копій файлу журналу, за замовчуванням: **3**
- `MaxAge`: Максимальний час зберігання файлу журналу, в днях, за замовчуванням: **30**
- `Compress`: Чи стиснути файл журналу, за замовчуванням: **true**
- `Level`: Рівень журналу, за замовчуванням: **info**, доступні: **debug, info, warn, error, panic, fatal**
- `MySQL`: Налаштування MySQL
  - `Addr`: Адреса MySQL, обов'язково
  - `Username`: Ім'я користувача MySQL, обов'язково
  - `Password`: Пароль MySQL, обов'язково
  - `Dbname`: Назва бази даних MySQL, обов'язково
  - `Config`: Значення за замовчуванням для MySQL: charset=utf8mb4\&parseTime=true\&loc=Asia%2FShanghai
  - `MaxIdleConns`: Максимальна кількість бездіяльних з'єднань, за замовчуванням: **10**
  - `MaxOpenConns`: Максимальна кількість відкритих з'єднань, за замовчуванням: **100**
  - `LogMode`: Рівень журналу, за замовчуванням: **info**, доступні: **debug, error, warn, info**
  - `LogZap`: Чи використовувати запис SQL журналу zap, за замовчуванням: **true**
  - `SlowThreshold`: Поріг повільного запиту, в мілісекундах, за замовчуванням: **1000**
- `Redis`: Налаштування Redis
- `Host`: Адреса Redis, за замовчуванням: **localhost:6379**
- `Pass`: Пароль Redis, за замовчуванням: **""**
- `DB`: База даних Redis, за замовчуванням: **0**
- `Administer`: Налаштування входу в адмінку
  - `Email`: Електронна пошта для входу в адмінку, за замовчуванням: **<admin@ppanel.dev>**
  - `Password`: Пароль для входу в адмінку, за замовчуванням: **password**

#### 4. Змінні середовища

Підтримувані змінні середовища:

| Змінна середовища | Налаштування     | Приклад                                          |
| ---------------- | ---------------- | :---------------------------------------------- |
| PPANEL\_DB      | Налаштування MySQL | root:password\@tcp(localhost:3306)/vpnboard |
| PPANEL\_REDIS   | Налаштування Redis | redis\://localhost:6379"                        |
```

