---
title: เซิร์ฟเวอร์
order: 2
nav:
  title: คู่มือ
  order: 1
group:
  title: การติดตั้ง
  order: 1
toc: content
---

## ข้อกำหนดสภาพแวดล้อมการทำงาน

| ส่วนประกอบ                | ข้อกำหนด                                                 |
| ------------------------- | -------------------------------------------------------- |
| การกำหนดค่าของเซิร์ฟเวอร์ | ขั้นต่ำ: CPU 1 คอร์, RAM 2GB; แนะนำ: CPU 2 คอร์, RAM 4GB |
| MySQL                     | 5.7 ขึ้นไป (แนะนำ MySQL 8)                               |
| Redis                     | 6 ขึ้นไป                                                 |
| NGINX/Apache              | เวอร์ชันใดก็ได้                                          |

## ติดตั้ง Docker

รันคำสั่งต่อไปนี้เพื่อติดตั้ง Docker อย่างรวดเร็ว:

```sh
curl -fsSL https://get.docker.com | bash -s docker
```

## เริ่มต้นอย่างรวดเร็ว

### การเริ่มต้นผ่านหน้าเว็บ

PPanel รองรับการเริ่มต้นผ่านเว็บ ซึ่งช่วยให้กระบวนการกำหนดค่ามือถือได้ง่ายขึ้น

### ขั้นตอนการเริ่มต้น

1. **สร้างไฟล์กำหนดค่าที่จำเป็น**: เริ่มต้นด้วยการสร้างและกำหนดค่าไฟล์ `/app/etc/ppanel.yaml` ด้วยตนเอง เพื่อการกำหนดค่าต่อไป

2. **รัน Docker คอนเทนเนอร์**:

   ```sh
   docker run -d \
     --network host \
     --name ppanel-server \
     -v /app/etc/ppanel.yaml:/app/etc/ppanel.yaml \
     --restart=always \
     --log-opt max-size=10m \
     --log-opt max-file=3 \
     ppanel/ppanel-server:beta
   ```

3. **เข้าถึงหน้าเริ่มต้น**: เปิดเบราว์เซอร์และไปที่ `http://IPเซิร์ฟเวอร์:8080/init`

4. **เสร็จสิ้นการกำหนดค่า**: ตั้งค่าบัญชีผู้ดูแลระบบ กำหนดค่า MySQL และเซิร์ฟเวอร์ Redis ตามคำแนะนำ

5. **คลิกปุ่มเริ่มต้น**: หลังจากเสร็จสิ้นการกำหนดค่า ให้คลิกปุ่ม "เริ่มต้น" แอปพลิเคชันจะบันทึกการกำหนดค่าโดยอัตโนมัติและรีสตาร์ท

   > **หมายเหตุ**: PPanel ใช้พอร์ต **8080** เป็นค่าเริ่มต้น โปรดตรวจสอบว่าพอร์ตนี้สามารถเข้าถึงได้ และปรับการตั้งค่าของไฟร์วอลล์ตามความจำเป็น

## การติดตั้งด้วย Docker

PPanel ใช้พอร์ต **8080** เป็นค่าเริ่มต้น โปรดตรวจสอบว่าพอร์ตนี้สามารถเข้าถึงได้ และปรับการตั้งค่าของไฟร์วอลล์ตามความจำเป็น

หากไม่ใช้การเริ่มต้นผ่านเว็บ สามารถเข้าสู่ระบบด้วยบัญชีผู้ดูแลระบบเริ่มต้นได้:

- **ชื่อผู้ใช้**: `admin@ppanel.dev`
- **รหัสผ่าน**: `password`

> **หมายเหตุ**: หลังจากเข้าสู่ระบบครั้งแรก โปรดเปลี่ยนรหัสผ่านเริ่มต้นทันทีเพื่อความปลอดภัย

### สร้างไฟล์กำหนดค่าที่จำเป็น

ก่อนเริ่มการติดตั้ง Docker โปรดสร้างและกำหนดค่าไฟล์ `/app/etc/ppanel.yaml` ด้วยตนเอง เพื่อให้ระบบทำงานได้อย่างถูกต้อง ตัวอย่างการกำหนดค่าที่ละเอียด โปรดดูในส่วน [ตัวอย่างการกำหนดค่า](#ตัวอย่างการกำหนดค่า)

### รัน Docker คอนเทนเนอร์

รันคำสั่งต่อไปนี้เพื่อเริ่มคอนเทนเนอร์:

```sh
docker run -d \
  --network host \
  --name ppanel-server \
  -v /app/etc/ppanel.yaml:/app/etc/ppanel.yaml \
  --restart=always \
  --log-opt max-size=10m \
  --log-opt max-file=3 \
  ppanel/ppanel-server:beta
```

## การติดตั้งด้วย Docker Compose

PPanel ใช้พอร์ต **8080** เป็นค่าเริ่มต้น โปรดตรวจสอบว่าพอร์ตนี้สามารถเข้าถึงได้ และปรับการตั้งค่าของไฟร์วอลล์ตามความจำเป็น

### สร้างไฟล์กำหนดค่าที่จำเป็น

ก่อนเริ่มการติดตั้ง Docker Compose โปรดสร้างและกำหนดค่าไฟล์ `/app/etc/ppanel.yaml` ด้วยตนเอง เพื่อให้ระบบทำงานได้อย่างถูกต้อง ตัวอย่างการกำหนดค่าที่ละเอียด โปรดดูในส่วน [ตัวอย่างการกำหนดค่า](#ตัวอย่างการกำหนดค่า)

### สร้างไฟล์กำหนดค่า Docker Compose

สร้างไฟล์ `docker-compose.yml`:

```yaml
version: '3'

services:
  ppanel-server:
    image: ppanel/ppanel-server:beta
    container_name: ppanel-server
    network_mode: host
    volumes:
      - /app/etc/ppanel.yaml:/app/etc/ppanel.yaml
    restart: always
    logging:
      driver: 'json-file'
      options:
        max-size: '10m'
        max-file: '3'
```

### เริ่มบริการ

รันคำสั่งต่อไปนี้เพื่อเริ่มบริการ:

```sh
docker compose up -d
```

## ข้อควรระวังที่สำคัญ

- **ความปลอดภัย**: โปรดเปลี่ยนรหัสผ่านและกุญแจเริ่มต้นเพื่อให้แอปพลิเคชันปลอดภัย
- **การกำหนดค่าพอร์ต**: ตรวจสอบให้แน่ใจว่าพอร์ตที่จำเป็นเปิดอยู่เพื่อหลีกเลี่ยงปัญหาการเข้าถึงเครือข่าย
- **การเก็บข้อมูลถาวร**: แนะนำให้ติดตั้งข้อมูลในขณะรันคอนเทนเนอร์เพื่อให้ข้อมูลถาวร

## ตัวอย่างการกำหนดค่า

ด้านล่างนี้คือตัวอย่างการกำหนดค่าใน `ppanel.yaml`:

```yaml
Host: 0.0.0.0 # IP ที่จะฟัง
Port: 8080 # พอร์ตที่ทำงาน
Debug: true # เปิดโหมดดีบักหรือไม่
JwtAuth:
  AccessSecret: your-secret-key # รหัสลับ Token (โปรดแก้ไข)
  AccessExpire: 604800 # ระยะเวลาหมดอายุ Token (วินาที)
Logger:
  FilePath: ./ppanel.log # เส้นทางไฟล์บันทึก
  MaxSize: 50
  MaxBackup: 3
  MaxAge: 30
  Compress: true
  LogType: json
  Level: info # ระดับบันทึก: info, debug, error
MySQL:
  Addr: 127.0.0.1:3306 # ที่อยู่ฐานข้อมูล
  Dbname: vpnboard # ชื่อฐานข้อมูล
  Username: root # ชื่อผู้ใช้ฐานข้อมูล
  Password: your-password # รหัสผ่านฐานข้อมูล (โปรดแก้ไข)
  Config: charset=utf8mb4&parseTime=true&loc=Asia%2FBangkok
  MaxIdleConns: 10
  MaxOpenConns: 10
  LogMode: dev
  LogZap: false
  SlowThreshold: 1000
Redis:
  Host: 127.0.0.1:6379
  Pass: # รหัสผ่าน Redis (ถ้ามี)
  DB: 0

Administer:
  Password: password # รหัสผ่านผู้ดูแลระบบ (ควรเปลี่ยน)
  Email: admin@ppanel.dev # ที่อยู่อีเมลผู้ดูแลระบบ
```

> **หมายเหตุ**: หลังจากแก้ไขไฟล์กำหนดค่า โปรดรีสตาร์ทคอนเทนเนอร์ Docker เพื่อใช้การเปลี่ยนแปลง

## รับการสนับสนุน

หากพบปัญหา โปรดดูเอกสารอย่างเป็นทางการหรือ ติดต่อทีมสนับสนุนเพื่อขอความช่วยเหลือ
