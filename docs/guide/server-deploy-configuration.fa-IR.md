```markdown
---
title: توضیحات پیکربندی
order: 0
group: 
  title: استقرار سرور
  order: 2
toc: content
---

## الزامات محیط اجرایی

| مؤلفه           | الزامات                                  |
| ------------ | ----------------------------------- |
| پیکربندی سرور        | حداقل: 1 هسته CPU، 2GB حافظه؛ توصیه شده: 2 هسته CPU، 4GB حافظه |
| MySQL        | 5.7 و بالاتر (توصیه شده MySQL 8)                 |
| Redis        | 6 و بالاتر                               |
| NGINX/Apache | هر نسخه‌ای                                |

### توضیحات فایل پیکربندی

#### 1. مسیر فایل پیکربندی

مسیر پیش‌فرض فایل پیکربندی: `./etc/ppanel.yaml`، می‌توانید با استفاده از پارامتر راه‌اندازی `--config` مسیر فایل پیکربندی را مشخص کنید.

#### 2. فرمت فایل پیکربندی

- فایل پیکربندی به فرمت yaml است، از نظرات پشتیبانی می‌کند و نام آن باید xxx.yaml باشد.

```yaml
# نمونه فایل پیکربندی
Host:               # آدرس گوش دادن سرویس، پیش‌فرض: 0.0.0.0
Port:               # پورت گوش دادن سرویس، پیش‌فرض: 8080
Debug:              # آیا حالت اشکال‌زدایی فعال است، در صورت فعال بودن نمی‌توان از قابلیت ثبت لاگ‌های پس‌زمینه استفاده کرد، پیش‌فرض: false
JwtAuth:            # پیکربندی تأیید هویت JWT
  AccessSecret:     # کلید توکن دسترسی، پیش‌فرض: تولید تصادفی
  AccessExpire:     # زمان انقضای توکن دسترسی، واحد ثانیه، پیش‌فرض: 604800
Logger:             # پیکربندی لاگ
  FilePath:         # مسیر فایل لاگ، پیش‌فرض: ./ppanel.log
  MaxSize:          # حداکثر اندازه فایل لاگ، واحد MB، پیش‌فرض: 50
  MaxBackup:        # حداکثر تعداد نسخه‌های پشتیبان فایل لاگ، پیش‌فرض: 3
  MaxAge:           # حداکثر زمان نگهداری فایل لاگ، واحد روز، پیش‌فرض: 30
  Compress:         # آیا فایل‌های لاگ فشرده شوند، پیش‌فرض: true
  Level:            # سطح لاگ، پیش‌فرض: info، گزینه‌های ممکن: debug، info، warn، error، panic، fatal
MySQL:
  Addr:             # آدرس MySQL، الزامی
  Username:         # نام کاربری MySQL، الزامی
  Password:         # رمز عبور MySQL، الزامی
  Dbname:           # نام پایگاه داده MySQL، الزامی
  Config:           # مقادیر پیش‌فرض پیکربندی Mysql charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  MaxIdleConns:     # حداکثر تعداد اتصالات بیکار، پیش‌فرض: 10
  MaxOpenConns:     # حداکثر تعداد اتصالات باز، پیش‌فرض: 100
  LogMode:          # سطح لاگ، پیش‌فرض: info، گزینه‌های ممکن: debug، error، warn، info
  LogZap:           # آیا از ثبت لاگ SQL با zap استفاده شود، پیش‌فرض: true
  SlowThreshold:    # آستانه جستجوی کند، واحد میلی‌ثانیه، پیش‌فرض: 1000
Redis:
  Host:             # آدرس Redis، پیش‌فرض: localhost:6379
  Pass:             # رمز عبور Redis، پیش‌فرض: ""
  DB:               # پایگاه داده Redis، پیش‌فرض: 0

Administer:
  Email:            # ایمیل ورود به پنل مدیریت، پیش‌فرض: admin@ppanel.dev
  Password:         # رمز عبور ورود به پنل مدیریت، پیش‌فرض: password

```

#### 3. توضیحات فایل پیکربندی

- `Host`: آدرس گوش دادن سرویس، پیش‌فرض: **0.0.0.0**
- `Port`: پورت گوش دادن سرویس، پیش‌فرض: **8080**
- `Debug`: آیا حالت اشکال‌زدایی فعال است، در صورت فعال بودن نمی‌توان از قابلیت ثبت لاگ‌های پس‌زمینه استفاده کرد، پیش‌فرض: **false**
- `JwtAuth`: پیکربندی تأیید هویت JWT
  - `AccessSecret`: کلید توکن دسترسی، پیش‌فرض: **تولید تصادفی**
  - `AccessExpire`: زمان انقضای توکن دسترسی، واحد ثانیه، پیش‌فرض: **604800**
- `Logger`: پیکربندی لاگ
- `FilePath`: مسیر فایل لاگ، پیش‌فرض: **./ppanel.log**
- `MaxSize`: حداکثر اندازه فایل لاگ، واحد MB، پیش‌فرض: **50**
- `MaxBackup`: حداکثر تعداد نسخه‌های پشتیبان فایل لاگ، پیش‌فرض: **3**
- `MaxAge`: حداکثر زمان نگهداری فایل لاگ، واحد روز، پیش‌فرض: **30**
- `Compress`: آیا فایل‌های لاگ فشرده شوند، پیش‌فرض: **true**
- `Level`: سطح لاگ، پیش‌فرض: **info**، گزینه‌های ممکن: **debug، info، warn، error، panic، fatal**
- `MySQL`: پیکربندی MySQL
  - `Addr`: آدرس MySQL، الزامی
  - `Username`: نام کاربری MySQL، الزامی
  - `Password`: رمز عبور MySQL، الزامی
  - `Dbname`: نام پایگاه داده MySQL، الزامی
  - `Config`: مقادیر پیش‌فرض پیکربندی Mysql charset=utf8mb4\&parseTime=true\&loc=Asia%2FShanghai
  - `MaxIdleConns`: حداکثر تعداد اتصالات بیکار، پیش‌فرض: **10**
  - `MaxOpenConns`: حداکثر تعداد اتصالات باز، پیش‌فرض: **100**
  - `LogMode`: سطح لاگ، پیش‌فرض: **info**، گزینه‌های ممکن: **debug، error، warn، info**
  - `LogZap`: آیا از ثبت لاگ SQL با zap استفاده شود، پیش‌فرض: **true**
  - `SlowThreshold`: آستانه جستجوی کند، واحد میلی‌ثانیه، پیش‌فرض: **1000**
- `Redis`: پیکربندی Redis
- `Host`: آدرس Redis، پیش‌فرض: **localhost:6379**
- `Pass`: رمز عبور Redis، پیش‌فرض: **""**
- `DB`: پایگاه داده Redis، پیش‌فرض: **0**
- `Administer`: پیکربندی ورود به پنل مدیریت
  - `Email`: ایمیل ورود به پنل مدیریت، پیش‌فرض: **<admin@ppanel.dev>**
  - `Password`: رمز عبور ورود به پنل مدیریت، پیش‌فرض: **password**

#### 4. متغیرهای محیطی

متغیرهای محیطی پشتیبانی شده به شرح زیر است:

| متغیر محیطی          | گزینه پیکربندی     | نمونه                                          |
| ------------- | ------- | :------------------------------------------ |
| PPANEL\_DB    | پیکربندی MySQL | root:password\@tcp(localhost:3306)/vpnboard |
| PPANEL\_REDIS | پیکربندی Redis | redis\://localhost:6379"                    |
```

