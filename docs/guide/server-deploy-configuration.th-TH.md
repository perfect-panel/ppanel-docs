```markdown
---
title: คำอธิบายการตั้งค่า
order: 0
group: 
  title: การติดตั้งเซิร์ฟเวอร์
  order: 2
toc: content
---

## ข้อกำหนดสภาพแวดล้อมการทำงาน

| ส่วนประกอบ       | ข้อกำหนด                                |
| -------------- | ------------------------------------- |
| การตั้งค่าเซิร์ฟเวอร์ | ขั้นต่ำ: CPU 1 คอร์, RAM 2GB; แนะนำ: CPU 2 คอร์, RAM 4GB |
| MySQL          | 5.7 ขึ้นไป (แนะนำ MySQL 8)                 |
| Redis          | 6 ขึ้นไป                               |
| NGINX/Apache   | เวอร์ชันใดก็ได้                          |

### คำอธิบายไฟล์การตั้งค่า

#### 1. เส้นทางไฟล์การตั้งค่า

เส้นทางไฟล์การตั้งค่าเริ่มต้นคือ: `./etc/ppanel.yaml` สามารถระบุเส้นทางไฟล์การตั้งค่าได้ผ่านพารามิเตอร์การเริ่มต้น `--config` 

#### 2. รูปแบบไฟล์การตั้งค่า

- ไฟล์การตั้งค่าเป็นรูปแบบ yaml รองรับการแสดงความคิดเห็น ตั้งชื่อว่า xxx.yaml

```yaml
# ตัวอย่างไฟล์การตั้งค่า
Host:               # ที่อยู่ที่เซิร์ฟเวอร์ฟังอยู่, ค่าเริ่มต้น: 0.0.0.0
Port:               # พอร์ตที่เซิร์ฟเวอร์ฟังอยู่, ค่าเริ่มต้น: 8080
Debug:              # เปิดโหมดดีบักหรือไม่, หากเปิดจะไม่สามารถใช้ฟังก์ชันบันทึกข้อมูลเบื้องหลังได้, ค่าเริ่มต้น: false
JwtAuth:            # การตั้งค่า JWT
  AccessSecret:     # รหัสลับของโทเค็นการเข้าถึง, ค่าเริ่มต้น: สุ่มสร้าง
  AccessExpire:     # เวลาหมดอายุของโทเค็นการเข้าถึง, หน่วยเป็นวินาที, ค่าเริ่มต้น: 604800
Logger:             # การตั้งค่าบันทึกข้อมูล
  FilePath:         # เส้นทางไฟล์บันทึกข้อมูล, ค่าเริ่มต้น: ./ppanel.log
  MaxSize:          # ขนาดไฟล์บันทึกข้อมูลสูงสุด, หน่วยเป็น MB, ค่าเริ่มต้น: 50
  MaxBackup:        # จำนวนไฟล์บันทึกข้อมูลสำรองสูงสุด, ค่าเริ่มต้น: 3
  MaxAge:           # เวลาการเก็บรักษาไฟล์บันทึกข้อมูลสูงสุด, หน่วยเป็นวัน, ค่าเริ่มต้น: 30
  Compress:         # บีบอัดไฟล์บันทึกข้อมูลหรือไม่, ค่าเริ่มต้น: true
  Level:            # ระดับบันทึกข้อมูล, ค่าเริ่มต้น: info, ตัวเลือก: debug, info, warn, error, panic, fatal
MySQL:
  Addr:             # ที่อยู่ MySQL, จำเป็นต้องกรอก
  Username:         # ชื่อผู้ใช้ MySQL, จำเป็นต้องกรอก
  Password:         # รหัสผ่าน MySQL, จำเป็นต้องกรอก
  Dbname:           # ชื่อฐานข้อมูล MySQL, จำเป็นต้องกรอก
  Config:           # ค่าตั้งค่า MySQL เริ่มต้น charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  MaxIdleConns:     # จำนวนการเชื่อมต่อที่ว่างสูงสุด, ค่าเริ่มต้น: 10
  MaxOpenConns:     # จำนวนการเชื่อมต่อที่เปิดสูงสุด, ค่าเริ่มต้น: 100
  LogMode:          # ระดับบันทึกข้อมูล, ค่าเริ่มต้น: info, ตัวเลือก: debug, error, warn, info
  LogZap:           # ใช้การบันทึกข้อมูล SQL ด้วย zap หรือไม่, ค่าเริ่มต้น: true
  SlowThreshold:    # เกณฑ์การค้นหาช้า, หน่วยเป็นมิลลิวินาที, ค่าเริ่มต้น: 1000
Redis:
  Host:             # ที่อยู่ Redis, ค่าเริ่มต้น: localhost:6379
  Pass:             # รหัสผ่าน Redis, ค่าเริ่มต้น: ""
  DB:               # ฐานข้อมูล Redis, ค่าเริ่มต้น: 0

Administer:
  Email:            # อีเมลสำหรับเข้าสู่ระบบเบื้องหลัง, ค่าเริ่มต้น: admin@ppanel.dev
  Password:         # รหัสผ่านสำหรับเข้าสู่ระบบเบื้องหลัง, ค่าเริ่มต้น: password

```

#### 3. คำอธิบายไฟล์การตั้งค่า

- `Host`: ที่อยู่ที่เซิร์ฟเวอร์ฟังอยู่, ค่าเริ่มต้น: **0.0.0.0**
- `Port`: พอร์ตที่เซิร์ฟเวอร์ฟังอยู่, ค่าเริ่มต้น: **8080**
- `Debug`: เปิดโหมดดีบักหรือไม่, หากเปิดจะไม่สามารถใช้ฟังก์ชันบันทึกข้อมูลเบื้องหลังได้, ค่าเริ่มต้น: **false**
- `JwtAuth`: การตั้งค่า JWT
  - `AccessSecret`: รหัสลับของโทเค็นการเข้าถึง, ค่าเริ่มต้น: **สุ่มสร้าง**
  - `AccessExpire`: เวลาหมดอายุของโทเค็นการเข้าถึง, หน่วยเป็นวินาที, ค่าเริ่มต้น: **604800**
- `Logger`: การตั้งค่าบันทึกข้อมูล
- `FilePath`: เส้นทางไฟล์บันทึกข้อมูล, ค่าเริ่มต้น: **./ppanel.log**
- `MaxSize`: ขนาดไฟล์บันทึกข้อมูลสูงสุด, หน่วยเป็น MB, ค่าเริ่มต้น: **50**
- `MaxBackup`: จำนวนไฟล์บันทึกข้อมูลสำรองสูงสุด, ค่าเริ่มต้น: **3**
- `MaxAge`: เวลาการเก็บรักษาไฟล์บันทึกข้อมูลสูงสุด, หน่วยเป็นวัน, ค่าเริ่มต้น: **30**
- `Compress`: บีบอัดไฟล์บันทึกข้อมูลหรือไม่, ค่าเริ่มต้น: **true**
- `Level`: ระดับบันทึกข้อมูล, ค่าเริ่มต้น: **info**, ตัวเลือก: **debug, info, warn, error, panic, fatal**
- `MySQL`: การตั้งค่า MySQL
  - `Addr`: ที่อยู่ MySQL, จำเป็นต้องกรอก
  - `Username`: ชื่อผู้ใช้ MySQL, จำเป็นต้องกรอก
  - `Password`: รหัสผ่าน MySQL, จำเป็นต้องกรอก
  - `Dbname`: ชื่อฐานข้อมูล MySQL, จำเป็นต้องกรอก
  - `Config`: ค่าตั้งค่า MySQL เริ่มต้น charset=utf8mb4\&parseTime=true\&loc=Asia%2FShanghai
  - `MaxIdleConns`: จำนวนการเชื่อมต่อที่ว่างสูงสุด, ค่าเริ่มต้น: **10**
  - `MaxOpenConns`: จำนวนการเชื่อมต่อที่เปิดสูงสุด, ค่าเริ่มต้น: **100**
  - `LogMode`: ระดับบันทึกข้อมูล, ค่าเริ่มต้น: **info**, ตัวเลือก: **debug, error, warn, info**
  - `LogZap`: ใช้การบันทึกข้อมูล SQL ด้วย zap หรือไม่, ค่าเริ่มต้น: **true**
  - `SlowThreshold`: เกณฑ์การค้นหาช้า, หน่วยเป็นมิลลิวินาที, ค่าเริ่มต้น: **1000**
- `Redis`: การตั้งค่า Redis
- `Host`: ที่อยู่ Redis, ค่าเริ่มต้น: **localhost:6379**
- `Pass`: รหัสผ่าน Redis, ค่าเริ่มต้น: **""**
- `DB`: ฐานข้อมูล Redis, ค่าเริ่มต้น: **0**
- `Administer`: การตั้งค่าการเข้าสู่ระบบเบื้องหลัง
  - `Email`: อีเมลสำหรับเข้าสู่ระบบเบื้องหลัง, ค่าเริ่มต้น: **<admin@ppanel.dev>**
  - `Password`: รหัสผ่านสำหรับเข้าสู่ระบบเบื้องหลัง, ค่าเริ่มต้น: **password**

#### 4. ตัวแปรสภาพแวดล้อม

ตัวแปรสภาพแวดล้อมที่รองรับมีดังนี้:

| ตัวแปรสภาพแวดล้อม | รายการตั้งค่า  | ตัวอย่าง                                        |
| -------------- | ----------- | :-------------------------------------------- |
| PPANEL\_DB     | การตั้งค่า MySQL | root:password\@tcp(localhost:3306)/vpnboard |
| PPANEL\_REDIS  | การตั้งค่า Redis | redis\://localhost:6379"                      |
```

