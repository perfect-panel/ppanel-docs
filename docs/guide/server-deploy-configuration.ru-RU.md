```markdown
---
title: Описание конфигурации
order: 0
group: 
  title: Развертывание сервера
  order: 2
toc: content
---

## Требования к среде выполнения

| Компонент       | Требования                              |
| -------------- | ------------------------------------- |
| Конфигурация сервера | Минимум: 1 ядро CPU, 2 ГБ ОЗУ; Рекомендуется: 2 ядра CPU, 4 ГБ ОЗУ |
| MySQL          | 5.7 и выше (рекомендуется MySQL 8)         |
| Redis          | 6 и выше                               |
| NGINX/Apache   | Любая версия                           |

### Описание конфигурационного файла

#### 1. Путь к конфигурационному файлу

Путь к конфигурационному файлу по умолчанию: `./etc/ppanel.yaml`, его можно указать с помощью параметра запуска `--config`.

#### 2. Формат конфигурационного файла

- Конфигурационный файл в формате YAML, поддерживает комментарии, называется xxx.yaml.

```yaml
# Пример конфигурационного файла
Host:               # Адрес прослушивания сервиса, по умолчанию: 0.0.0.0
Port:               # Порт прослушивания сервиса, по умолчанию: 8080
Debug:              # Включить режим отладки, при включении невозможно использовать функцию журналирования, по умолчанию: false
JwtAuth:            # Конфигурация JWT аутентификации
  AccessSecret:     # Секретный ключ токена доступа, по умолчанию: генерируется случайно
  AccessExpire:     # Время истечения токена доступа, в секундах, по умолчанию: 604800
Logger:             # Конфигурация журнала
  FilePath:         # Путь к файлу журнала, по умолчанию: ./ppanel.log
  MaxSize:          # Максимальный размер файла журнала, в МБ, по умолчанию: 50
  MaxBackup:        # Максимальное количество резервных копий файла журнала, по умолчанию: 3
  MaxAge:           # Максимальное время хранения файла журнала, в днях, по умолчанию: 30
  Compress:         # Сжимать ли файлы журнала, по умолчанию: true
  Level:            # Уровень журнала, по умолчанию: info, доступные варианты: debug, info, warn, error, panic, fatal
MySQL:
  Addr:             # Адрес MySQL, обязательный
  Username:         # Имя пользователя MySQL, обязательное
  Password:         # Пароль MySQL, обязательный
  Dbname:           # Имя базы данных MySQL, обязательное
  Config:           # Значения по умолчанию для конфигурации MySQL charset=utf8mb4&parseTime=true&loc=Asia%2FShanghai
  MaxIdleConns:     # Максимальное количество неактивных соединений, по умолчанию: 10
  MaxOpenConns:     # Максимальное количество открытых соединений, по умолчанию: 100
  LogMode:          # Уровень журнала, по умолчанию: info, доступные варианты: debug, error, warn, info
  LogZap:           # Использовать ли zap для записи SQL в журнал, по умолчанию: true
  SlowThreshold:    # Порог медленных запросов, в миллисекундах, по умолчанию: 1000
Redis:
  Host:             # Адрес Redis, по умолчанию: localhost:6379
  Pass:             # Пароль Redis, по умолчанию: ""
  DB:               # База данных Redis, по умолчанию: 0

Administer:
  Email:            # Электронная почта для входа в админку, по умолчанию: admin@ppanel.dev
  Password:         # Пароль для входа в админку, по умолчанию: password

```

#### 3. Описание конфигурационного файла

- `Host`: Адрес прослушивания сервиса, по умолчанию: **0.0.0.0**
- `Port`: Порт прослушивания сервиса, по умолчанию: **8080**
- `Debug`: Включить ли режим отладки, при включении невозможно использовать функцию журналирования, по умолчанию: **false**
- `JwtAuth`: Конфигурация JWT аутентификации
  - `AccessSecret`: Секретный ключ токена доступа, по умолчанию: **генерируется случайно**
  - `AccessExpire`: Время истечения токена доступа, в секундах, по умолчанию: **604800**
- `Logger`: Конфигурация журнала
- `FilePath`: Путь к файлу журнала, по умолчанию: **./ppanel.log**
- `MaxSize`: Максимальный размер файла журнала, в МБ, по умолчанию: **50**
- `MaxBackup`: Максимальное количество резервных копий файла журнала, по умолчанию: **3**
- `MaxAge`: Максимальное время хранения файла журнала, в днях, по умолчанию: **30**
- `Compress`: Сжимать ли файлы журнала, по умолчанию: **true**
- `Level`: Уровень журнала, по умолчанию: **info**, доступные варианты: **debug, info, warn, error, panic, fatal**
- `MySQL`: Конфигурация MySQL
  - `Addr`: Адрес MySQL, обязательный
  - `Username`: Имя пользователя MySQL, обязательное
  - `Password`: Пароль MySQL, обязательный
  - `Dbname`: Имя базы данных MySQL, обязательное
  - `Config`: Значения по умолчанию для конфигурации MySQL charset=utf8mb4\&parseTime=true\&loc=Asia%2FShanghai
  - `MaxIdleConns`: Максимальное количество неактивных соединений, по умолчанию: **10**
  - `MaxOpenConns`: Максимальное количество открытых соединений, по умолчанию: **100**
  - `LogMode`: Уровень журнала, по умолчанию: **info**, доступные варианты: **debug, error, warn, info**
  - `LogZap`: Использовать ли zap для записи SQL в журнал, по умолчанию: **true**
  - `SlowThreshold`: Порог медленных запросов, в миллисекундах, по умолчанию: **1000**
- `Redis`: Конфигурация Redis
- `Host`: Адрес Redis, по умолчанию: **localhost:6379**
- `Pass`: Пароль Redis, по умолчанию: **""**
- `DB`: База данных Redis, по умолчанию: **0**
- `Administer`: Конфигурация для входа в админку
  - `Email`: Электронная почта для входа в админку, по умолчанию: **<admin@ppanel.dev>**
  - `Password`: Пароль для входа в админку, по умолчанию: **password**

#### 4. Переменные окружения

Поддерживаемые переменные окружения:

| Переменная окружения | Конфигурационный элемент | Пример                                      |
| ------------------- | ----------------------- | :---------------------------------------- |
| PPANEL\_DB          | Конфигурация MySQL     | root:password\@tcp(localhost:3306)/vpnboard |
| PPANEL\_REDIS       | Конфигурация Redis     | redis\://localhost:6379                   |
```

